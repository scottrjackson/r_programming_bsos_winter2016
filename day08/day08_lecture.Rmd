---
title: "Day 8 Lecture"
output: html_document
---

# Review HW 7

# Loops and control
  - if else
  - for
    - counters (sets)
    - "growing" results
    - debugging
    - break, next

## if/else

```{r}

```

## for loops

```{r}
mydf <- data.frame(x = rnorm(n = 1000, mean = 2, sd = 1), group = rep(1:10, each = 100))

rep(1:3, 3)
rep(1:3, each = 3)
rep(1:3, each = 3, 2)

this.vector <-  mydf[mydf$group == 1, "x"]
my.answer <- mean(this.vector)

# MAKE IT A LOOP

for(i in 1:10) {
  print(i * 2)  
}

for(i in c(9, 4, 25)) {
  print(i * 2)  
}

# Won't work, because loop needs "my.answer" to exist
rm(my.answer)
for(this.group in c(3,9, 5)) {
  this.vector <-  mydf[mydf$group == this.group, "x"]
  my.answer[this.group] <- mean(this.vector)  # subset of my.answer not available because my.answer doesn't exist
}

# Will work, but may get very sloooooow
my.answer <- 1
for(this.group in c(3, 9, 5)) {
  this.vector <-  mydf[mydf$group == this.group, "x"]
  my.answer[this.group] <- mean(this.vector)
}

# BEST PRACTICE
my.groups <- c(3, 9, 5, 2)

my.answer <- vector(length = length(my.groups))
for(this.counter in 1:length(my.groups)) {
  this.group <- my.groups[this.counter]
  this.vector <- mydf[mydf$group == this.group, "x"]
  my.answer[this.counter] <- mean(this.vector)
}

library(MASS)
mu.sigmas <- data.frame(mean1 = c(0, 0.1, -0.1, -0.3, 0.25), mean2 = c(0.2, 0.0, 0.3, -0.15, -0.1), corr = c(.2, .4, .1, .35, -0.3))

data.sets <- list()
length(data.sets) <- 5
for(i in 1:5) {
  data.sets[[i]] <- mvrnorm(n = 1000, mu = c(mu.sigmas[i, "mean1"], mu.sigmas[i, "mean2"]), Sigma = matrix(c(1, mu.sigmas[i, "corr"], mu.sigmas[i, "corr"], 1), ncol = 2))
  data.sets[[i]] <- i
  write.csv(data.sets[[i]], file = paste("sampledata", i, ".csv", sep = ""))
}


```


# Loops practice


